@page "/"
@using CurrieTechnologies.Razor.Clipboard
@using EasyIdentityGenerator.Data.Models
@inject ClipboardService Clipboard

<h1>Easy Identity Generator</h1>

<AppInfoPrompt @bind-Value="GeneratedUser" Title="You need a fast way to generate an ASP.NET Identity user to access your app in developement? Then" />

<div class="form-group">
    <div>
        <input @bind="GeneratedUser.Password" type="text" class="form-control" placeholder="Password" readonly="readonly" />
        <button @onclick="(async e => await Clipboard.WriteTextAsync(GeneratedUser.Password))">Copy to Clipboard</button>
    </div>
    <div>
        <input @bind="GeneratedUser.PasswordHash" type="text" class="form-control" placeholder="Password Hash" readonly="readonly" />
        <button @onclick="(async e => await Clipboard.WriteTextAsync(GeneratedUser.PasswordHash))">Copy to Clipboard</button>
    </div>
</div>

<Tabs SelectedTabChanged="@OnSelectedTabChanged">
    <Tab Name="1" IsActive="@(generatedUserSelectedTab=="1")">SQL</Tab>
    <Tab Name="2" IsActive="@(generatedUserSelectedTab=="2")">JSON</Tab>
</Tabs>
<TabsContent @ref="generatedUserTabContent">
    <TabPanel Name="1" IsActive="@(generatedUserSelectedTab == "1")">
        First tab content
    </TabPanel>
    <TabPanel Name="2" IsActive="@(generatedUserSelectedTab == "2")">
        Second tab content
    </TabPanel>
</TabsContent>
@code
{
    ApplicationUser GeneratedUser = new ApplicationUser();
    TabsContent generatedUserTabContent;
    string generatedUserSelectedTab = "0";

    private void OnSelectedTabChanged(string name)
    {
        generatedUserSelectedTab = name;
        generatedUserTabContent.SelectPanel(name);
    }
}